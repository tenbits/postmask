
UTest({	
	'should change the tag name of a node' () {

		Postmask.registerOptimizer('opt', (node, ctx, next) => {
			node.tagName = 'div';
			next();
		});

		var template = `
			opt > span;
		`;
		return Postmask
			.optimizeAsync(template, null, { plugins: [], minify: true })
			.then(obj => {
				eq_(obj.result, 'div>span;')
			});		
	},
	'should return with error' () {
		var template = `
			div qux ';
		`;		
		return Postmask
			.optimizeAsync(template, null, { plugins: [], minify: true })
			.then(obj => {
				logger.log(obj);				
			});		
	}
});